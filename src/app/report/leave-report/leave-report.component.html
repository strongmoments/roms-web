<div fxLayout="row wrap">
  <div fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100">
    <div>
      <mat-tab-group mat-stretch-tabs (selectedIndexChange)="onTabChanged($event)">
        <mat-tab label="Leave Report">
          <ng-container [ngTemplateOutlet]="commonListLeaveReport"></ng-container>

        </mat-tab>
        <mat-tab label="Current">
          <!-- <mat-card class="m-0 m-t-20 m-b-5">
            <mat-card-content class="p-15">
              <mat-card-title class="p-10 p-t-0 p-l-25 p-r-0 export-btn">
                <button mat-icon-button [matMenuTriggerFor]="exportMenu">
                  Export List
                  <mat-icon>cloud_download</mat-icon>
                </button>
                <mat-menu #exportMenu="matMenu">
                  <button mat-menu-item (click)="exportCsv()">Export CSV</button>
                </mat-menu>
              </mat-card-title>
              <div class="m-l-10 m-r-10">
                <div fxLayout="row wrap" fxFlexAlign="center" class="row">
                  <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
                    <mat-form-field>
                      <input matInput (keyup)="applyFilter(true)" [(ngModel)]="search" placeholder="Filter" />
                      <mat-icon matSuffix>search</mat-icon>
                    </mat-form-field>
                  </div>
                  <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
                    <mat-form-field>
                      <mat-select (selectionChange)="applyFilter()" [(ngModel)]="departmentId" placeholder="Department">
                        <mat-option value="all">All</mat-option>
                        <mat-option [value]="item.id" *ngFor="let item of departmentList">
                          {{ item.description }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
                    <mat-form-field>
                      <mat-select (selectionChange)="applyFilter()" [(ngModel)]="employeeType"
                        placeholder="Employee Type">
                        <mat-option value="all">All</mat-option>
                        <mat-option [value]="item.id" *ngFor="let item of employeeTypeList">
                          {{ item.name }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
                    <mat-form-field>
                      <mat-select (selectionChange)="applyFilter()" [(ngModel)]="status" placeholder="Status">
                        <mat-option value="0">All</mat-option>
                        <mat-option [value]="status.value" *ngFor="let status of globals.leaveStatus">
                          {{ status.name }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div fxFlex.gt-sm="20" class="font-12">
                   <mat-form-field appearance="outline">
                      <mat-label (click)="picker.open()">Select Date Range</mat-label>
                      <mat-date-range-input [rangePicker]="picker">
                        <input matStartDate [(ngModel)]="startDate" placeholder="Start date" readonly
                          (dateChange)="applyFilter()" (click)="picker.open()" />
                        <input matEndDate placeholder="End date" readonly [(ngModel)]="endDate"
                          (dateChange)="applyFilter()" (click)="picker.open()" />
                      </mat-date-range-input>
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-date-range-picker #picker></mat-date-range-picker>

                   
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </mat-card-content>
          </mat-card> -->
          <ng-container [ngTemplateOutlet]="commonListLeaveReport"></ng-container>


          <!-- <mat-card class="m-0 m-t-5 m-b-5">
            <mat-card-content>
              <div class="table-responsive infinite-scroll">
                <mat-table #table [dataSource]="dataSource" class="table employee-list no-wrap" matSort
                  (scroll)="onTableScroll($event)" multiTemplateDataRows>
                  <ng-container matColumnDef="select">
                    <th mat-header-cell *matHeaderCellDef>
                    </th>
                    <td mat-cell *matCellDef="let row; let index = dataIndex">
                      <mat-checkbox [ngClass]="getStatusColor(row?.leaveStatus, true)"
                        (click)="removeRow(row.id, index)">
                      </mat-checkbox>
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="staffName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Staff Name</th>
                    <td mat-cell *matCellDef="let row; let i = index">
                      <div class="d-flex">
                        <img class="mat-card-avatar"
                          onerror="this.onerror=null;this.src='../../assets/img/user-default-img.jpg';"
                          [src]="row?.employe?.profileImage | base64Image" />
                        <div class="m-l-15">
                          <p class="font-medium m-b-0 m-t-0">
                            {{ row?.staffName }}
                          </p>
                        </div>
                      </div>
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="convertedAppliedOn">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Applied On</th>
                    <td mat-cell *matCellDef="let row; let i = index">
                      {{ row?.convertedAppliedOn }}
                    </td>
                  </ng-container>


                  <ng-container matColumnDef="managerName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Manager</th>
                    <td mat-cell *matCellDef="let row; let i = index">
                      {{ row?.managerName }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="convertedApprovalDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Decision Date</th>
                    <td mat-cell *matCellDef="let row; let i = index">
                      {{ row?.convertedApprovalDate }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="dates">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Dates</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row.startDateTime | date: 'MMM d' }} to
                      {{ row.endDateTime | date: 'MMM d, y' }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="days">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Days</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row?.totalDay }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="time">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Time</th>
                    <td mat-cell *matCellDef="let row">
                      <ng-container *ngIf="row && row.totalHour > 0">
                        {{ row.startDateTime | date: 'shortTime' }} to
                        {{ row.endDateTime | date: 'shortTime' }}
                      </ng-container>
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="hours">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Hours</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row?.totalHour }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="leaveTypeName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Leave type</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row?.leaveType?.leaveDescription }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="leaveReason">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Reason</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row?.leaveReason }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="reviewerRemark">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Comments</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row?.reviewerRemark }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
                    <td mat-cell *matCellDef="let row; let i = index">
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Approval Status</th>
                    <td mat-cell *matCellDef="let row; let i = index">
                      <span [ngClass]="getStatusColor(row?.leaveStatus)">
                        {{ row?.status }}
                      </span>
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="expandedDetail">
                    <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
                      <div class="example-element-detail"
                        [@detailExpand]="element === expandedElement ? 'expanded' : 'collapsed'">
                        <div fxLayout="row wrap" style="width: 100%">
                          <div fxFlex.gt-sm="100" fxFlex="100" fxFlexAlign="center">
                            <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                              <div fxFlex.gt-sm="100" fxFlex="100" fxFlexAlign="center" class="mat-body-clp">
                                <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                  <textarea matInput placeholder="Reason" class="text-reason"
                                    disabled>{{ element?.leaveReason }} </textarea>
                                </div>
                                <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                  <div class="collapse-img">
                                    <ng-container *ngFor="let item of element?.attachments">
                                      <img *ngIf="item?.digitalAssets.fileType.includes( 'image')"
                                        (click)="openImageDialog(item?.digitalAssets?.url)"
                                        [src]="item?.digitalAssets?.url" alt="" />
                                      <img *ngIf="item?.digitalAssets.fileType.includes('pdf')"
                                        (click)="openFile(item?.digitalAssets?.url)"
                                        src="../../../assets/images/pdf_icon.png" alt="" />

                                    </ng-container>

                                  </div>
                                </div>
                              </div>
                            </div>
                            <div fxFlex.gt-sm="50" fxFlex="100">
                              <div fxFlex.gt-sm="100" fxFlex="100" class="mat-body-clp">
                                <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">

                                  <textarea matInput placeholder="Reason" class="text-reason"
                                    disabled>{{ element?.reviewerRemark }} </textarea>
                                </div>
                                <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                  <div class="example-element-description d-al-c">
                                    <span [ngClass]="getStatusColor(element?.leaveStatus)">
                                      {{ getStatus(element?.leaveStatus) }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let element; columns: displayedColumns" class="example-element-row"
                    [ngClass]="{ 'row-strike-through': removedRows.includes(element.id) }"
                    [class.example-expanded-row]="expandedElement === element"
                    (click)="expandedElement = expandedElement === element ? null : element"></tr>
                  <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>

                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                      No Leave request
                    </td>
                  </tr>
                </mat-table>
              </div>
            </mat-card-content>
          </mat-card> -->
        </mat-tab>
        <mat-tab label="Export History">
          <mat-card class="m-0 m-t-20 m-b-5">
            <mat-card-content>
              <div class="table-responsive">
                <table mat-table [dataSource]="dataSourceHistory" class="table employee-list no-wrap"
                  #sortHistory="matSort" matSort multiTemplateDataRows>
                  <ng-container matColumnDef="reportName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Report Name</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row?.reportName }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="dateRange">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Dates Range Applied</th>
                    <td mat-cell *matCellDef="let row">
                      {{ row?.dateRange }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="createDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Exported On</th>
                    <td mat-cell *matCellDef="let row; let i = index">
                      <!-- exportedOn -->
                      {{ row?.createDate | date: 'dd MMMM y' }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="sign">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
                    <td mat-cell *matCellDef="let row; let i = index">
                      <a href="javascript:void">
                        <mat-icon>remove_red_eye</mat-icon>
                      </a>
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumnsHistory"></tr>

                  <tr mat-row *matRowDef="let row; columns: displayedColumnsHistory"></tr>
                  <!-- Row shown when there is no matching data. -->
                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                      No export request
                    </td>
                  </tr>
                </table>

                <!-- <mat-paginator #paginatorHistory="matPaginator" [length]="totalRecords" [pageIndex]="pageNo"
                  [pageSizeOptions]="[5, 10, 20]" [pageSize]="pagesize" aria-label="Select page">
                </mat-paginator> -->
              </div>
            </mat-card-content>
          </mat-card>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>


<ng-template #commonListLeaveReport>
  <mat-card class="m-0 m-t-20 m-b-5">
    <mat-card-content class="p-15">
      <mat-card-title class="p-10 p-t-0 p-l-25 p-r-0 export-btn">
        <button mat-icon-button [matMenuTriggerFor]="exportMenu">
          Export List
          <mat-icon>cloud_download</mat-icon>
        </button>
        <mat-menu #exportMenu="matMenu">
          <button mat-menu-item (click)="exportCsv()">Export CSV</button>
        </mat-menu>
      </mat-card-title>
      <div class="m-l-10 m-r-10">
        <div fxLayout="row wrap" fxFlexAlign="center" class="row">
          <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
            <mat-form-field>
              <input matInput (keyup)="applyFilter(true)" [(ngModel)]="search" placeholder="Filter" />
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
          </div>
          <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
            <!-- <mat-card-title class="mb-3">Basic Material select</mat-card-title> -->
            <mat-form-field>
              <mat-select (selectionChange)="applyFilter()" [(ngModel)]="departmentId" placeholder="Department">
                <mat-option value="all">All</mat-option>
                <mat-option [value]="item.id" *ngFor="let item of departmentList">
                  {{ item.description }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
            <!-- <mat-card-title class="mb-3">Basic Material select</mat-card-title> -->
            <mat-form-field>
              <mat-select (selectionChange)="applyFilter()" [(ngModel)]="employeeType" placeholder="Employee Type">
                <mat-option value="all">All</mat-option>
                <mat-option [value]="item.id" *ngFor="let item of employeeTypeList">
                  {{ item.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div fxFlex.gt-sm="20" class="p-r-10" fxFlex="100">
            <!-- <mat-card-title class="mb-3">Basic Material select</mat-card-title> -->
            <mat-form-field>
              <mat-select (selectionChange)="applyFilter()" [(ngModel)]="status" placeholder="Status">
                <mat-option value="0">All</mat-option>
                <mat-option [value]="status.value" *ngFor="let status of globals.leaveStatus">
                  {{ status.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div fxFlex.gt-sm="20" class="font-12">
            <!-- <span>
              <u
                >{{ startDate | date: 'MMMM y' }}
                <span *ngIf="endDate">to {{ endDate | date: 'MMMM y' }}</span></u
              >
            </span>
            <mat-form-field style="display: none">
              <mat-label>Choose a date</mat-label>
              <mat-date-range-input [rangePicker]="picker">
                <input
                  hidden
                  (dateChange)="applyFilter()"
                  [(ngModel)]="startDate"
                  matStartDate
                  placeholder="Start date"
                  readonly
                  (click)="picker.open()"
                />
                <input
                  matEndDate
                  (dateChange)="applyFilter()"
                  [(ngModel)]="endDate"
                  placeholder="End date"
                  hidden
                  readonly
                  (click)="picker.open()"
                />
              </mat-date-range-input>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-date-range-picker #picker></mat-date-range-picker>
            </mat-form-field>
            <mat-icon (click)="picker.open()" class="text-right">calendar_today</mat-icon> -->
            <mat-form-field appearance="outline">
              <mat-label (click)="picker.open()">Select Date Range</mat-label>
              <mat-date-range-input [rangePicker]="picker">
                <input matStartDate [(ngModel)]="startDate" placeholder="Start date" readonly
                  (dateChange)="applyFilter()" (click)="picker.open()" />
                <input matEndDate placeholder="End date" readonly [(ngModel)]="endDate" (dateChange)="applyFilter()"
                  (click)="picker.open()" />
              </mat-date-range-input>
              <!-- <mat-hint>MM/DD/YYYY – MM/DD/YYYY</mat-hint> -->
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-date-range-picker #picker></mat-date-range-picker>

              <!-- <mat-error
                    *ngIf="
                      submitted &&
                      (checkError('startDate', 'required') || checkError('endDate', 'required'))
                    "
                  >
                    Invalid dates
                  </mat-error> -->
            </mat-form-field>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="m-0 m-t-5 m-b-5">
    <mat-card-content>
      <div class="table-responsive infinite-scroll">
        <mat-table #table [dataSource]="dataSource" class="table employee-list no-wrap" matSort
          (scroll)="onTableScroll($event)" multiTemplateDataRows>
          <!-- <table width="100%" mat-table [dataSource]="dataSource" matSort> -->
          <!-- ID Column -->
          <!-- <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef>Name</th>
                            <td mat-cell *matCellDef="let element">
                            <div class="d-flex">
                                <img class="mat-card-avatar" [src]="element.imagePath" />
                                <div class="m-l-15">
                                <p class="font-medium m-b-0 m-t-0">{{ element.Name }}</p>
                                <small class="text-muted">{{ element.Position }}</small>
                                </div>
                            </div>
                            </td>
                        </ng-container> -->

          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <!-- <mat-checkbox
                            (change)="$event ? masterToggle() : null"
                            > -->
              <!-- <mat-checkbox
                            
                            >
                          </mat-checkbox> -->
            </th>
            <td mat-cell *matCellDef="let row; let index = dataIndex">
              <mat-checkbox [ngClass]="getStatusColor(row?.leaveStatus, true)" (click)="removeRow(row.id, index)">
              </mat-checkbox>
            </td>
          </ng-container>

          <ng-container matColumnDef="staffName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Staff Name</th>
            <td mat-cell *matCellDef="let row; let i = index">
              <div class="d-flex">
                <img class="mat-card-avatar"
                  onerror="this.onerror=null;this.src='../../assets/img/user-default-img.jpg';"
                  [src]="row?.employe?.profileImage | base64Image" />
                <div class="m-l-15">
                  <p class="font-medium m-b-0 m-t-0">
                    {{ row?.staffName }}
                  </p>
                  <!-- <small class="text-muted">{{ }}</small> -->
                </div>
              </div>
              <!-- <span class="header-label">staffName:</span> -->
            </td>
          </ng-container>

          <ng-container matColumnDef="convertedAppliedOn">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Applied On</th>
            <td mat-cell *matCellDef="let row; let i = index">
              <!-- <span class="header-label">applyDate:</span> -->
              {{ row?.convertedAppliedOn }}
            </td>
          </ng-container>

          <!-- approver -->

          <ng-container matColumnDef="managerName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Manager</th>
            <td mat-cell *matCellDef="let row; let i = index">
              {{ row?.managerName }}
              <!-- {{ row?.approver?.lastName }} -->
              <!-- </p> -->
              <!-- <small class="text-muted">{{ }}</small> -->
              <!-- </div>
                                        </div> -->
              <!-- <span class="header-label">staffName:</span> -->
            </td>
          </ng-container>

          <ng-container matColumnDef="convertedApprovalDate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Decision Date</th>
            <td mat-cell *matCellDef="let row; let i = index">
              {{ row?.convertedApprovalDate }}
            </td>
          </ng-container>

          <!-- Progress Column -->
          <ng-container matColumnDef="dates">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Dates</th>
            <td mat-cell *matCellDef="let row">
              <!-- {{getShortDate(row.startDateTime,row.endDateTime )}} -->
              <!-- <span class="header-label">dates:</span> -->
              {{ row.startDateTime | date: 'MMM d' }} to
              {{ row.endDateTime | date: 'MMM d, y' }}
            </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="days">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Days</th>
            <td mat-cell *matCellDef="let row">
              <!-- <span class="header-label">days:</span> -->
              {{ row?.totalDay }}
            </td>
          </ng-container>

          <!-- Fruit Column -->
          <ng-container matColumnDef="time">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Time</th>
            <td mat-cell *matCellDef="let row">
              <!-- <span class="header-label">time:</span> -->
              <ng-container *ngIf="row && row.totalHour > 0">
                {{ row.startDateTime | date: 'shortTime' }} to
                {{ row.endDateTime | date: 'shortTime' }}
              </ng-container>
            </td>
          </ng-container>

          <ng-container matColumnDef="hours">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Hours</th>
            <td mat-cell *matCellDef="let row">
              <!-- <span class="header-label">hours:</span> -->
              {{ row?.totalHour }}
            </td>
          </ng-container>

          <!-- <ng-container matColumnDef="manager">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                Manager
                            </th>
                            <td mat-cell *matCellDef="let row">
                                <span class="header-label">manager:</span>
                                {{ row?.approver?.firstName }} {{ row?.approver?.lastName }}
                            </td>
                        </ng-container> -->

          <ng-container matColumnDef="leaveTypeName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Leave type</th>
            <td mat-cell *matCellDef="let row">
              <!-- <span class="header-label">leave_type:</span> -->
              {{ row?.leaveType?.leaveDescription }}
            </td>
          </ng-container>

          <!-- <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
            <td mat-cell *matCellDef="let row">
              <span [ngClass]="getStatusColor(row?.leaveStatus)">
                {{ row?.status }}
              </span>
            </td>
          </ng-container> -->

          <ng-container matColumnDef="leaveReason">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Reason</th>
            <td mat-cell *matCellDef="let row">
              {{ row?.leaveReason }}
            </td>
          </ng-container>

          <ng-container matColumnDef="reviewerRemark">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Comments</th>
            <td mat-cell *matCellDef="let row">
              <!-- <span class="header-label">reviewerRemark:</span> -->
              {{ row?.reviewerRemark }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
            <td mat-cell *matCellDef="let row; let i = index">
              <!-- <span class="header-label">action:</span> -->
            </td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Approval Status</th>
            <td mat-cell *matCellDef="let row; let i = index">
              <span [ngClass]="getStatusColor(row?.leaveStatus)">
                {{ row?.status }}
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="expandedDetail">
            <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
              <div class="example-element-detail"
                [@detailExpand]="element === expandedElement ? 'expanded' : 'collapsed'">
                <!-- <div class="example-element-diagram"> -->
                <!-- <div class="example-element-position">test</div> -->
                <!-- <div class="example-element-symbol">{{ element.symbol }}</div> -->
                <!-- <div class="example-element-name">{{ element.name }}</div> -->
                <!-- <div class="example-element-weight">{{ element.weight }}</div> -->
                <!-- </div> -->
                <div fxLayout="row wrap" style="width: 100%">
                  <div fxFlex.gt-sm="100" fxFlex="100" fxFlexAlign="center">
                    <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                      <div fxFlex.gt-sm="100" fxFlex="100" fxFlexAlign="center" class="mat-body-clp">
                        <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                          <!-- <mat-form-field appearance="outline" class="m-10"> -->
                          <textarea matInput placeholder="Reason" class="text-reason"
                            disabled>{{ element?.leaveReason }} </textarea>
                          <!-- </mat-form-field> -->
                        </div>
                        <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                          <div class="collapse-img">
                            <ng-container *ngFor="let item of element?.attachments">
                              <img *ngIf="item?.digitalAssets.fileType.includes( 'image')"
                                (click)="openImageDialog(item?.digitalAssets?.url)" [src]="item?.digitalAssets?.url"
                                alt="" />
                              <img *ngIf="item?.digitalAssets.fileType.includes('pdf')"
                                (click)="openFile(item?.digitalAssets?.url)" src="../../../assets/images/pdf_icon.png"
                                alt="" />

                            </ng-container>

                            <!-- <img /> -->
                            <!-- <img src="assets/images/users/1.jpg
                                    " alt="" width="75px" />
                        <img src="assets/images/users/1.jpg
                                    " alt="" width="75px" /> -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <div fxFlex.gt-sm="50" fxFlex="100">
                      <div fxFlex.gt-sm="100" fxFlex="100" class="mat-body-clp">
                        <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                          <!-- <mat-form-field appearance="outline"> -->
                          <!-- <mat-label>Outline form field</mat-label> -->
                          <!-- <input
                              matInput
                              placeholder="Comment"
                              (change)="addComment(i, $event)"
                            /> -->
                          <textarea matInput placeholder="Reason" class="text-reason"
                            disabled>{{ element?.reviewerRemark }} </textarea>
                          <!-- </mat-form-field> -->
                        </div>
                        <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                          <div class="example-element-description d-al-c">
                            <!-- <span class="p-10 m-r-10 m-l-10">{{ element?.leaveReason }} </span> -->
                            <span [ngClass]="getStatusColor(element?.leaveStatus)">
                              {{ getStatus(element?.leaveStatus) }}
                            </span>
                          </div>
                          <!-- <div
                            class="example-element-description m-r-10 m-l-10"
                            *ngIf="element && element.leaveStatus != 1"
                          >
                            {{ element?.reviewerRemark }}
                            <span>
                              
                              <span [ngClass]="getStatusColor(element?.leaveStatus)">
                                {{ getStatus(element?.leaveStatus) }}
                              </span>
                            </span>
                          </div> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- <div class="example-element-description">
                  {{ element?.leaveReason }}
                  <span>
                    --
                    <span [ngClass]="getStatusColor(element?.leaveStatus)">
                      {{ getStatus(element?.leaveStatus) }}
                    </span>
                  </span>
                </div> -->
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <!-- <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr> -->

          <!-- <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr> -->
          <tr mat-row *matRowDef="let element; columns: displayedColumns" class="example-element-row"
            [ngClass]="{ 'row-strike-through': removedRows.includes(element.id) }"
            [class.example-expanded-row]="expandedElement === element"
            (click)="expandedElement = expandedElement === element ? null : element"></tr>
          <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>

          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" [attr.colspan]="displayedColumns.length">
              No Leave request
            </td>
          </tr>
        </mat-table>
        <!-- </table> -->

        <!-- <mat-paginator [length]="totalRecords" [pageIndex]="pageNo"
                                [pageSizeOptions]="[5, 10, 20]" [pageSize]="pagesize" aria-label="Select page">
                            </mat-paginator> -->
      </div>
    </mat-card-content>
  </mat-card>
</ng-template>